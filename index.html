<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8" />
    <title>ç‘„æŸ” Ã— 2025 Â· The Galaxy Promise</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta name="theme-color" content="#090a0f">
    
    <!-- å¼•å…¥ç‰¹æ®Šå­—é«” -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Noto+Serif+TC:wght@400;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">

    <style>
        /* ===========================
           1. å®‡å®™æ ¸å¿ƒè®Šæ•¸
        =========================== */
        :root {
            --bg-dark: #050505;
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-gold: #ffd700;
            --glass: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
            --blur: blur(20px);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }

        body {
            background: var(--bg-dark);
            color: white;
            font-family: 'Noto Serif TC', sans-serif;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* ===========================
           2. äº’å‹•å¼æ˜Ÿè»Œ Canvas
        =========================== */
        #canvas-bg {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: -1; background: radial-gradient(circle at center, #1a1a2e 0%, #000000 100%);
        }

        /* ===========================
           3. è¼‰å…¥èˆ‡å…¥å ´ (Glitch Effect)
        =========================== */
        #loader {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #000; z-index: 9999;
            display: flex; flex-direction: column; justify-content: center; align-items: center;
            transition: opacity 1s ease;
        }
        .glitch-text {
            font-family: 'Orbitron', sans-serif; font-size: 2.5rem; font-weight: bold;
            position: relative; color: white; letter-spacing: 5px;
        }
        .glitch-text::before, .glitch-text::after {
            content: attr(data-text); position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        }
        .glitch-text::before { left: 2px; text-shadow: -1px 0 red; clip: rect(24px, 550px, 90px, 0); animation: glitch-anim 3s infinite linear alternate-reverse; }
        .glitch-text::after { left: -2px; text-shadow: -1px 0 blue; clip: rect(85px, 550px, 140px, 0); animation: glitch-anim 2s infinite linear alternate-reverse; }
        
        @keyframes glitch-anim {
            0% { clip: rect(14px, 9999px, 127px, 0); }
            20% { clip: rect(80px, 9999px, 20px, 0); }
            40% { clip: rect(30px, 9999px, 100px, 0); }
            60% { clip: rect(90px, 9999px, 10px, 0); }
            80% { clip: rect(10px, 9999px, 60px, 0); }
            100% { clip: rect(50px, 9999px, 100px, 0); }
        }

        .start-btn {
            margin-top: 40px; padding: 15px 50px;
            background: transparent; border: 1px solid var(--neon-blue);
            color: var(--neon-blue); font-family: 'Orbitron'; letter-spacing: 3px;
            cursor: pointer; transition: 0.3s; box-shadow: 0 0 10px var(--neon-blue);
        }
        .start-btn:hover { background: var(--neon-blue); color: black; box-shadow: 0 0 30px var(--neon-blue); }

        /* ===========================
           4. UI çµ„ä»¶ (Glassmorphism)
        =========================== */
        section { max-width: 800px; margin: 0 auto; padding: 80px 20px; position: relative; }
        
        .glass-panel {
            background: var(--glass); backdrop-filter: var(--blur);
            border: 1px solid var(--border); border-radius: 20px;
            padding: 30px; margin-bottom: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            position: relative; overflow: hidden;
        }
        /* æµå…‰é‚Šæ¡†ç‰¹æ•ˆ */
        .glass-panel::before {
            content: ''; position: absolute; top: 0; left: -100%; width: 100%; height: 2px;
            background: linear-gradient(90deg, transparent, var(--neon-pink), transparent);
            animation: borderFlow 3s linear infinite;
        }
        @keyframes borderFlow { 0% { left: -100%; } 100% { left: 100%; } }

        .title {
            font-family: 'Orbitron'; color: var(--neon-gold); font-size: 1.5rem;
            margin-bottom: 20px; text-transform: uppercase; letter-spacing: 2px;
            border-left: 4px solid var(--neon-pink); padding-left: 15px;
        }

        /* ===========================
           5. é»‘è† å”±ç‰‡æ’­æ”¾å™¨
        =========================== */
        .vinyl-container {
            position: relative; width: 200px; height: 200px; margin: 0 auto 30px;
        }
        .vinyl {
            width: 100%; height: 100%; border-radius: 50%;
            background: url('https://cdn.pixabay.com/photo/2018/03/04/11/23/record-3198066_1280.jpg') center/cover;
            box-shadow: 0 0 20px rgba(0,0,0,0.8);
            animation: spinVinyl 5s linear infinite;
            animation-play-state: paused; /* é è¨­æš«åœ */
        }
        .vinyl::after {
            content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 60px; height: 60px; background: url('photo6.jpg') center/cover; /* ä¸­é–“æ”¾ä½ å€‘çš„ç…§ç‰‡ */
            border-radius: 50%; border: 4px solid #111;
        }
        @keyframes spinVinyl { 100% { transform: rotate(360deg); } }

        /* ===========================
           6. åˆ®åˆ®æ¨‚ (Scratch Card)
        =========================== */
        .scratch-container {
            position: relative; width: 300px; height: 150px; margin: 0 auto;
            border-radius: 10px; overflow: hidden; cursor: crosshair;
        }
        .hidden-msg {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: white; color: #333; display: flex; justify-content: center; align-items: center;
            font-weight: bold; font-size: 1.2rem; text-align: center; padding: 10px;
        }
        canvas#scratch-canvas {
            position: absolute; top: 0; left: 0; z-index: 2;
        }
    </style>
</head>
<body>

<!-- èƒŒæ™¯ Canvas -->
<canvas id="canvas-bg"></canvas>

<!-- å…¥å ´ç•«é¢ -->
<div id="loader">
    <div class="glitch-text" data-text="XUANROU 2025">XUANROU 2025</div>
    <div style="color: #888; margin-top: 10px; font-family: 'Orbitron';">SYSTEM INITIALIZING...</div>
    <button class="start-btn" onclick="startSystem()">ACCESS GRANTED</button>
</div>
<!-- å°èˆª (æ‡¸æµ®è† å›Š) -->
<div style="position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); z-index: 100; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); padding: 10px 30px; border-radius: 50px; border: 1px solid rgba(255,255,255,0.2); display: flex; gap: 20px;">
    <a href="#timer-sec" style="color: white; text-decoration: none;">â³</a>
    <a href="#music-sec" style="color: white; text-decoration: none;">ğŸµ</a>
    <a href="#scratch-sec" style="color: white; text-decoration: none;">ğŸ</a>
    <a href="#letter-sec" style="color: white; text-decoration: none;">ğŸ’Œ</a>
</div>

<!-- 1. è¨ˆæ™‚å™¨å€å¡Š -->
<section id="timer-sec" style="padding-top: 100px;">
    <div class="glass-panel" style="text-align: center;">
        <div class="title">MISSION: 2025.10.07</div>
        
        <!-- æ™ºæ…§åˆ¤æ–·é¡¯ç¤ºæ–‡å­— -->
        <div id="timer-status" style="color: var(--neon-blue); margin-bottom: 10px; letter-spacing: 2px;">
            TARGET LOCKED
        </div>

        <div id="main-timer" style="font-family: 'Orbitron'; font-size: 2rem; font-weight: bold; text-shadow: 0 0 20px var(--neon-blue);">
            00 : 00 : 00 : 00
        </div>
        <div style="display: flex; justify-content: center; gap: 15px; font-size: 0.8rem; color: #aaa; margin-top: 5px;">
            <span>DAYS</span><span>HOURS</span><span>MINS</span><span>SECS</span>
        </div>

        <div style="margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); padding-top: 20px;">
            <div style="color: var(--neon-gold); font-size: 1.2rem;">â™‰ TAURUS â™‰</div>
            <div style="font-size: 0.9rem; color: #ddd;">2009.05.19</div>
            <div id="bday-countdown" style="margin-top: 5px; font-family: 'Orbitron'; color: var(--neon-pink);">
                Birthday Loading...
            </div>
        </div>
    </div>
</section>

<!-- 2. é»‘è† éŸ³æ¨‚æ’­æ”¾å™¨ -->
<section id="music-sec">
    <div class="glass-panel" style="text-align: center;">
        <div class="title">SOUNDTRACK</div>
        
        <div class="vinyl-container">
            <div class="vinyl" id="vinyl-disk"></div>
        </div>

        <div style="font-size: 1.2rem; margin-bottom: 5px;">ä½ çŸ¥é“ä½ æ¯”æ™šéœå¥½çœ‹å—</div>
        <div style="color: var(--neon-blue); font-size: 0.9rem;">Tr33</div>

        <div style="margin-top: 20px; display: flex; justify-content: center; gap: 20px;">
            <button onclick="controlMusic('play')" style="background: none; border: 1px solid white; color: white; width: 50px; height: 50px; border-radius: 50%; cursor: pointer;">â–¶</button>
            <button onclick="controlMusic('pause')" style="background: none; border: 1px solid white; color: white; width: 50px; height: 50px; border-radius: 50%; cursor: pointer;">â¸</button>
        </div>
        
        <!-- éš±è—éŸ³æº -->
        <audio id="bg-music" loop>
            <source src="ä½ çŸ¥é“ä½ æ¯”æ™šéœå¥½çœ‹å— - Tr33 (youtube).mp3" type="audio/mpeg">
        </audio>
    </div>
</section>

<!-- 3. åˆ®åˆ®æ¨‚é©šå–œ -->
<section id="scratch-sec">
    <div class="glass-panel" style="text-align: center;">
        <div class="title">SECRET MESSAGE</div>
        <p style="margin-bottom: 20px; font-size: 0.9rem; color: #ccc;">ç”¨æ‰‹æŒ‡æˆ–æ»‘é¼ åˆ®é–‹éŠ€è‰²å€åŸŸ...</p>
        
        <div class="scratch-container">
            <div class="hidden-msg">
                ç‘„æŸ”ï¼Œ<br>å¦³æ˜¯é€™å®‡å®™è£¡<br>æˆ‘å”¯ä¸€çš„å¼•åŠ›ã€‚
            </div>
            <canvas id="scratch-canvas" width="300" height="150"></canvas>
        </div>
    </div>
</section>

<!-- 4. æ‰“å­—æ©Ÿæƒ…æ›¸ -->
<section id="letter-sec" style="margin-bottom: 100px;">
    <div class="glass-panel">
        <div class="title">LOG: 00:53 AM</div>
        <div id="typewriter-text" style="font-family: 'Noto Serif TC'; line-height: 1.8; min-height: 150px; white-space: pre-wrap;"></div>
        <span style="display: inline-block; width: 10px; height: 20px; background: var(--neon-blue); animation: blink 1s infinite;"></span>
    </div>
</section>
<style>@keyframes blink{ 50% { opacity: 0; } }</style>
<script>
    /* ===========================
       1. äº’å‹•å¼æ˜Ÿè»Œ Canvas (é»‘ç§‘æŠ€)
    =========================== */
    const canvas = document.getElementById('canvas-bg');
    const ctx = canvas.getContext('2d');
    let width, height, particles = [];

    function resize() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    class Particle {
        constructor() {
            this.x = Math.random() * width;
            this.y = Math.random() * height;
            this.vx = (Math.random() - 0.5) * 0.5;
            this.vy = (Math.random() - 0.5) * 0.5;
            this.size = Math.random() * 2;
        }
        update() {
            this.x += this.vx;
            this.y += this.vy;
            if (this.x < 0 || this.x > width) this.vx *= -1;
            if (this.y < 0 || this.y > height) this.vy *= -1;
        }
        draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(255,255,255,0.8)';
            ctx.fill();
        }
    }

    for (let i = 0; i < 60; i++) particles.push(new Particle());

    function animate() {
        ctx.clearRect(0, 0, width, height);
        particles.forEach((p, index) => {
            p.update();
            p.draw();
            // é€£ç·šé‚è¼¯
            for (let j = index + 1; j < particles.length; j++) {
                const p2 = particles[j];
                const dist = Math.hypot(p.x - p2.x, p.y - p2.y);
                if (dist < 150) {
                    ctx.beginPath();
                    ctx.strokeStyle = `rgba(255,255,255,${1 - dist/150})`;
                    ctx.lineWidth = 0.5;
                    ctx.moveTo(p.x, p.y);
                    ctx.lineTo(p2.x, p2.y);
                    ctx.stroke();
                }
            }
        });
        requestAnimationFrame(animate);
    }
    animate();

    /* ===========================
       2. ç³»çµ±å•Ÿå‹•èˆ‡éŸ³æ¨‚æ§åˆ¶
    =========================== */
    const audio = document.getElementById('bg-music');
    const vinyl = document.getElementById('vinyl-disk');
    
    function startSystem() {
        const loader = document.getElementById('loader');
        loader.style.opacity = 0;
        setTimeout(() => loader.style.display = 'none', 1000);
        
        // å˜—è©¦æ’­æ”¾
        controlMusic('play');
        // å•Ÿå‹•æ‰“å­—æ©Ÿ
        typeWriter();
    }

    function controlMusic(action) {
        if(action === 'play') {
            audio.play().then(() => {
                vinyl.style.animationPlayState = 'running';
            }).catch(e => console.log("Wait for interaction"));
        } else {
            audio.pause();
            vinyl.style.animationPlayState = 'paused';
        }
    }

    /* ===========================
       3. æ™ºæ…§è¨ˆæ™‚å™¨ (2025.10.07)
    =========================== */
    function updateTimers() {
        const targetDate = new Date(2025, 9, 7, 0, 53, 0); // 10æœˆæ˜¯9
        const now = new Date();
        let diff = targetDate - now;
        const statusEl = document.getElementById('timer-status');
        
        // åˆ¤æ–·æ˜¯å€’æ•¸é‚„æ˜¯ç´¯è¨ˆ
        if (diff > 0) {
            statusEl.innerText = "è·é›¢ 2025.10.07 é‚„æœ‰";
            statusEl.style.color = "var(--neon-blue)";
        } else {
            statusEl.innerText = "æˆ‘å€‘å·²ç¶“åœ¨ä¸€èµ·";
            statusEl.style.color = "var(--neon-pink)";
            diff = Math.abs(diff);
        }

        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff / (1000 * 60 * 60)) % 24);
        const m = Math.floor((diff / (1000 * 60)) % 60);
        const s = Math.floor((diff / 1000) % 60);

        document.getElementById('main-timer').innerText = 
            `${d} : ${h.toString().padStart(2,'0')} : ${m.toString().padStart(2,'0')} : ${s.toString().padStart(2,'0')}`;

        // ç”Ÿæ—¥å€’æ•¸ (5/19)
        const currentYear = now.getFullYear();
        let nextBday = new Date(currentYear, 4, 19);
        if (now > nextBday) nextBday.setFullYear(currentYear + 1);
        const bDiff = nextBday - now;
        const bd = Math.floor(bDiff / (1000 * 60 * 60 * 24));
        document.getElementById('bday-countdown').innerText = `é‚„æœ‰ ${bd} å¤©`;
    }
    setInterval(updateTimers, 1000);
    updateTimers();

    /* ===========================
       4. åˆ®åˆ®æ¨‚é‚è¼¯
    =========================== */
    const sCanvas = document.getElementById('scratch-canvas');
    const sCtx = sCanvas.getContext('2d');
    
    // å¡«å……éŠ€è‰²å¡—å±¤
    sCtx.fillStyle = '#C0C0C0';
    sCtx.fillRect(0, 0, 300, 150);
    sCtx.fillStyle = '#000';
    sCtx.font = '20px Arial';
    sCtx.fillText("åˆ®é–‹é€™è£¡", 110, 80);

    let isDrawing = false;

    function scratch(x, y) {
        sCtx.globalCompositeOperation = 'destination-out';
        sCtx.beginPath();
        sCtx.arc(x, y, 20, 0, Math.PI * 2);
        sCtx.fill();
    }

    sCanvas.addEventListener('mousedown', () => isDrawing = true);
    sCanvas.addEventListener('mouseup', () => isDrawing = false);
    sCanvas.addEventListener('mousemove', (e) => {
        if (!isDrawing) return;
        const rect = sCanvas.getBoundingClientRect();
        scratch(e.clientX - rect.left, e.clientY - rect.top);
    });
    
    // æ‰‹æ©Ÿè§¸æ§æ”¯æ´
    sCanvas.addEventListener('touchstart', () => isDrawing = true);
    sCanvas.addEventListener('touchend', () => isDrawing = false);
    sCanvas.addEventListener('touchmove', (e) => {
        if (!isDrawing) return;
        e.preventDefault();
        const rect = sCanvas.getBoundingClientRect();
        const touch = e.touches[0];
        scratch(touch.clientX - rect.left, touch.clientY - rect.top);
    });

    /* ===========================
       5. æ‰“å­—æ©Ÿç‰¹æ•ˆ
    =========================== */
    const letterText = `ç‘„æŸ”ï¼Œ\n\né€™æ˜¯ä¸€å€‹é—œæ–¼ 2025 å¹´çš„ç´„å®šã€‚\n\né›–ç„¶æ™‚é–“é‚„åœ¨å€’æ•¸ï¼Œä½†æˆ‘çš„å¿ƒå·²ç¶“æå‰æŠµé”äº†é‚£å¤©å‡Œæ™¨çš„ 12:53ã€‚\n\né‡‘ç‰›åº§çš„å¦³ï¼Œå€¼å¾—é€™ä¸–ä¸Šæ‰€æœ‰çš„è€å¿ƒèˆ‡æº«æŸ”ã€‚\n\næˆ‘æœƒåœ¨é€™è£¡ï¼Œä¸€ç›´ç­‰å¦³ã€‚\n\nâ€”â€” Koala`;
    let charIndex = 0;
    
    function typeWriter() {
        if (charIndex < letterText.length) {
            document.getElementById("typewriter-text").innerHTML += letterText.charAt(charIndex) === '\n' ? '<br>' : letterText.charAt(charIndex);
            charIndex++;
            setTimeout(typeWriter, 100);
        }
    }
</script>
</body>
</html>
